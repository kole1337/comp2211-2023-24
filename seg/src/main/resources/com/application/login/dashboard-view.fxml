<?xml version="1.0" encoding="UTF-8"?>

<?import java.lang.Double?>
<?import java.lang.String?>
<?import javafx.collections.FXCollections?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.chart.AreaChart?>
<?import javafx.scene.chart.BarChart?>
<?import javafx.scene.chart.CategoryAxis?>
<?import javafx.scene.chart.NumberAxis?>
<?import javafx.scene.chart.PieChart?>
<?import javafx.scene.chart.StackedBarChart?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ChoiceBox?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.DatePicker?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.Menu?>
<?import javafx.scene.control.MenuBar?>
<?import javafx.scene.control.MenuItem?>
<?import javafx.scene.control.RadioMenuItem?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.Tab?>
<?import javafx.scene.control.TabPane?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.control.ToggleGroup?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Font?>

<HBox xmlns="http://javafx.com/javafx/19" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.application.dashboard.DashboardController">
   <children>
      <HBox HBox.hgrow="ALWAYS" />
      <HBox HBox.hgrow="ALWAYS">
         <children>
            <HBox HBox.hgrow="ALWAYS" />
            <VBox HBox.hgrow="ALWAYS">
               <children>
                  <VBox VBox.vgrow="ALWAYS" />
                  <AnchorPane fx:id="background" prefHeight="759.0" prefWidth="1434.0" VBox.vgrow="ALWAYS">
                      <MenuBar layoutX="3.0" layoutY="2.0">
                          <menus>
                              <Menu fx:id="File" mnemonicParsing="false" text="File">
                                  <items>
                                      <MenuItem mnemonicParsing="false" onAction="#openCampaign" text="Open campaign" />
                                  </items>
                              </Menu>
                              <!--          <Menu mnemonicParsing="false" text="Edit">-->
                              <!--            <items>-->
                              <!--              <MenuItem mnemonicParsing="false" text="Delete" />-->
                              <!--            </items>-->
                              <!--          </Menu>-->
                              <Menu fx:id="Help" mnemonicParsing="false" text="Help">
                                  <items>
                                      <MenuItem mnemonicParsing="false" onAction="#loadTutorial" text="Show dashboard tutorial" />
                                      <MenuItem mnemonicParsing="false" onAction="#loadTutorial2" text="Show upload files tutorial" />
                                      <MenuItem mnemonicParsing="false" onAction="#openOnlineDocumentation" text="Documentation" />
                                  </items>
                              </Menu>
                              <Menu fx:id="Environment" mnemonicParsing="false" text="Environment">
                                  <items>
                                      <RadioMenuItem fx:id="lightTheme" mnemonicParsing="false" onAction="#enableLightTheme" text="Light theme">
                                          <toggleGroup>
                                              <ToggleGroup fx:id="theme" />
                                          </toggleGroup>
                                      </RadioMenuItem>
                                      <RadioMenuItem fx:id="darkTheme" mnemonicParsing="false" onAction="#enableDarkTheme" text="Dark theme" toggleGroup="$theme" />
                                 <RadioMenuItem fx:id="increaseTextSize" mnemonicParsing="false" onAction="#enableDarkTheme" text="Increase Text Size">
                                    <toggleGroup>
                                       <ToggleGroup fx:id="theme1" />
                                    </toggleGroup>
                                 </RadioMenuItem>
                                 <RadioMenuItem fx:id="decreaseTextSize" mnemonicParsing="false" onAction="#enableDarkTheme" text="Decrease Text Size">
                                    <toggleGroup>
                                       <ToggleGroup fx:id="theme11" />
                                    </toggleGroup>
                                 </RadioMenuItem>
                                  </items>
                              </Menu>
                  
                          </menus>
                      </MenuBar>
                      <Button fx:id="logoutButton" layoutX="181.0" layoutY="2.0" mnemonicParsing="false" onAction="#logoutButton" prefHeight="25.0" prefWidth="93.0" text="Logout" />
                     <ScrollPane layoutY="30.0" prefHeight="445.0" prefWidth="228.0">
                        <content>
                            <VBox fx:id="dataSelection" nodeOrientation="LEFT_TO_RIGHT" prefHeight="413.0" prefWidth="212.0" spacing="10.0">
                                <children>
                                    <Label text="Data to view">
                                        <opaqueInsets>
                                            <Insets left="15.0" />
                                        </opaqueInsets>
                                    </Label>
                                    <Button fx:id="totalClicks" alignment="TOP_CENTER" mnemonicParsing="false" onAction="#loadDataGraphs" prefHeight="25.0" prefWidth="119.0" text="Clicks">
                                        <VBox.margin>
                                            <Insets />
                                        </VBox.margin>
                                    </Button>
                                    <Button fx:id="totalUniques" alignment="TOP_CENTER" mnemonicParsing="false" onAction="#loadDataGraphs" prefHeight="25.0" prefWidth="119.0" style="-fx-border-insets: 50;" text="Uniques" />
                                    <Button fx:id="totalBounces" alignment="TOP_CENTER" mnemonicParsing="false" onAction="#loadDataGraphs" prefHeight="25.0" prefWidth="119.0" text="Bounces" />
                                    <Button fx:id="totalImpressions" alignment="TOP_CENTER" mnemonicParsing="false" onAction="#loadDataGraphs" prefHeight="25.0" prefWidth="119.0" text="Impressions" />
                                    <Button fx:id="totalConversions" alignment="TOP_CENTER" mnemonicParsing="false" onAction="#loadDataGraphs" prefHeight="25.0" prefWidth="120.0" text="Conversion Rate" />
                                    <Button fx:id="totalCost" alignment="TOP_CENTER" mnemonicParsing="false" onAction="#loadDataGraphs" prefHeight="25.0" prefWidth="120.0" text="Total Cost" />
                                    <Button fx:id="CPA" alignment="TOP_CENTER" mnemonicParsing="false" onAction="#loadDataGraphs" text="Cost per acquisition" />
                                    <Button fx:id="CPC" alignment="TOP_CENTER" mnemonicParsing="false" onAction="#loadDataGraphs" prefHeight="25.0" prefWidth="121.0" text="Cost per clicks" />
                                    <Button fx:id="CTR" alignment="TOP_CENTER" mnemonicParsing="false" onAction="#loadDataGraphs" text="Cost per impression" />
                                    <Button fx:id="CPM" alignment="TOP_CENTER" mnemonicParsing="false" onAction="#loadDataGraphs" prefHeight="43.0" prefWidth="122.0" text="Cost per thousand impressions" wrapText="true" />
                                    <Button fx:id="bounceRate" alignment="TOP_CENTER" mnemonicParsing="false" onAction="#loadDataGraphs" text="Bounce Rate">
                                        <opaqueInsets>
                                            <Insets top="10.0" />
                                        </opaqueInsets>
                                    </Button>
                                    <ComboBox fx:id="timeBox">
                                        <items>
                                            <FXCollections fx:factory="observableArrayList">
                                                <String fx:value="hour" />
                                                <String fx:value="day" />
                                                <String fx:value="week" />
                                            </FXCollections>
                                        </items>
                                    </ComboBox>
                                    <TextField fx:id="timeSpentBounce" layoutX="100" layoutY="110" promptText="time spent for a bounce" />
                                    <TextField fx:id="pageViewedBounce" layoutX="100" layoutY="113" promptText="page viewed for a bounce" />
                                </children>
                                <opaqueInsets>
                                    <Insets />
                                </opaqueInsets>
                            </VBox>
                        </content>
                     </ScrollPane>
                      <Button fx:id="loadCSVbutton" layoutX="16.0" layoutY="706.0" mnemonicParsing="false" onAction="#loadCSV" prefHeight="17.0" prefWidth="178.0" text="Load Clicks" visible="false">
                          <font>
                              <Font name="System Bold" size="14.0" />
                          </font>
                      </Button>
                      <Button fx:id="loadCSVbutton1" layoutX="16.0" layoutY="743.0" mnemonicParsing="false" onAction="#loadCSV" prefHeight="17.0" prefWidth="178.0" text="Load Impressions" visible="false">
                          <font>
                              <Font name="System Bold" size="14.0" />
                          </font>
                      </Button>
                      <Button fx:id="loadCSVbutton2" layoutX="16.0" layoutY="781.0" mnemonicParsing="false" onAction="#loadCSV" prefHeight="17.0" prefWidth="178.0" text="Load Server Log" visible="false">
                          <font>
                              <Font name="System Bold" size="14.0" />
                          </font>
                      </Button>
                      <StackedBarChart fx:id="genderBarChart" layoutX="1078.0" layoutY="403.0" prefHeight="400.0" prefWidth="277.0" title="Gender Graph" visible="false">
                          <xAxis>
                              <CategoryAxis side="BOTTOM" />
                          </xAxis>
                          <yAxis>
                              <NumberAxis side="LEFT" />
                          </yAxis>
                      </StackedBarChart>
                      <TabPane fx:id="chartPane" layoutX="965.0" layoutY="78.0" prefHeight="445.0" prefWidth="455.0" style="-fx-border-color: black;" tabClosingPolicy="UNAVAILABLE">
                          <tabs>
                              <Tab text="Age Graph">
                                  <content>
                                      <AnchorPane minHeight="0.0" minWidth="0.0" prefHeight="180.0" prefWidth="200.0">
                                          <children>
                                              <PieChart fx:id="ageGraph" layoutX="-1.0" layoutY="1.0" prefHeight="413.0" prefWidth="455.0" title="Age Graph" visible="true" />
                                          </children>
                                      </AnchorPane>
                                  </content>
                              </Tab>
                              <Tab text="Gender Graph">
                                  <content>
                                      <AnchorPane minHeight="0.0" minWidth="0.0" prefHeight="237.0" prefWidth="356.0">
                                          <children>
                                              <PieChart fx:id="genderGraph" layoutX="-1.0" prefHeight="415.0" prefWidth="439.0" title="Gender Graph" />
                                          </children>
                                      </AnchorPane>
                                  </content>
                              </Tab>
                              <Tab text="Income graph">
                                  <content>
                                      <AnchorPane minHeight="0.0" minWidth="0.0" prefHeight="237.0" prefWidth="356.0">
                                          <children>
                                              <PieChart fx:id="incomeGraph" layoutX="-4.0" layoutY="-3.0" prefHeight="416.0" prefWidth="439.0" title="Income Graph" />
                                          </children>
                                      </AnchorPane>
                                  </content>
                              </Tab>
                              <Tab text="Context origin">
                                  <content>
                                      <AnchorPane minHeight="0.0" minWidth="0.0" prefHeight="237.0" prefWidth="356.0">
                                          <children>
                                              <PieChart fx:id="contextOriginGraph" layoutX="-4.0" layoutY="-3.0" prefHeight="418.0" prefWidth="439.0" title="Context Graph" />
                                          </children>
                                      </AnchorPane>
                                  </content>
                              </Tab>
                              <Tab text="Conversion">
                                  <content>
                                      <AnchorPane minHeight="0.0" minWidth="0.0" prefHeight="180.0" prefWidth="200.0">
                                          <children>
                                              <PieChart fx:id="conversionGraph" layoutX="5.0" prefHeight="414.0" prefWidth="432.0" title="Conversion Graph" visible="true" />
                                          </children>
                                      </AnchorPane>
                                  </content>
                              </Tab>
                              <Tab text="Histogram">
                                  <content>
                                      <AnchorPane minHeight="0.0" minWidth="0.0" prefHeight="180.0" prefWidth="200.0">
                                          <children>
                                              <BarChart fx:id="histogramClicks" layoutY="7.0" prefHeight="391.0" prefWidth="447.0" title="Conversion Graph" visible="true">
                                                  <xAxis>
                                                      <CategoryAxis side="BOTTOM" />
                                                  </xAxis>
                                                  <yAxis>
                                                      <NumberAxis side="LEFT" />
                                                  </yAxis>
                                                  <!-- Set the width of bars -->
                                                  <barGap>
                                                      <Double fx:value="0.0" />
                                                  </barGap>
                                                  <categoryGap>
                                                      <Double fx:value="10.0" /> <!-- Adjust this value as needed -->
                                                  </categoryGap>
                                              </BarChart>
                  
                                          </children>
                                      </AnchorPane>
                                  </content>
                              </Tab>
                          </tabs>
                      </TabPane>
                      <ScrollPane layoutX="233.0" layoutY="78.0" prefHeight="741.0" prefWidth="709.0">
                          <content>
                              <AreaChart fx:id="dataChart" prefHeight="730.0" prefWidth="698.0">
                                  <xAxis>
                                      <CategoryAxis side="BOTTOM" />
                                  </xAxis>
                                  <yAxis>
                                      <NumberAxis side="LEFT" />
                                  </yAxis>
                              </AreaChart>
                          </content>
                      </ScrollPane>
                      <Button fx:id="loadCSVbutton3" layoutX="3.0" layoutY="678.0" mnemonicParsing="false" onAction="#loadCSV" prefHeight="41.0" prefWidth="178.0" text="Load Data">
                          <font>
                              <Font name="System Bold" size="14.0" />
                          </font>
                      </Button>
                     <VBox layoutX="965.0" layoutY="556.0" prefHeight="243.0" prefWidth="455.0" style="-fx-border-color: black;">
                        <children>
                            <Label contentDisplay="BOTTOM" prefHeight="27.0" prefWidth="294.0" text="Data:" textAlignment="CENTER" VBox.vgrow="ALWAYS">
                                <font>
                                    <Font size="18.0" />
                                </font>
                            </Label>
                              <Label fx:id="sumImpressionsLabel" text="Total impressions:">
                                  <font>
                                      <Font size="18.0" />
                                  </font>
                              </Label>
                              <Label fx:id="uniqueImpressionLabel" text="Unique impressions:">
                                  <font>
                                      <Font size="18.0" />
                                  </font>
                              </Label>
                              <Label fx:id="zeroCostClickLabel" text="Zero cost clicks:">
                                  <font>
                                      <Font size="18.0" />
                                  </font>
                              </Label>
                              <Label fx:id="totalClicksLabel" text="Total Clicks:">
                                  <font>
                                      <Font size="18.0" />
                                  </font>
                              </Label>
                              <Label fx:id="avgClickPriceLabel" text="Average price per click:">
                                  <font>
                                      <Font size="18.0" />
                                  </font>
                              </Label>
                              <Label fx:id="totalEntriesLabel" text="Total entries from ads:">
                                  <font>
                                      <Font size="18.0" />
                                  </font>
                              </Label>
                              <Label fx:id="avgPagesViewedLabel" text="Average pages viewed:">
                                  <font>
                                      <Font size="18.0" />
                                  </font>
                              </Label>
                              <Label fx:id="totalBouncesLabel" prefHeight="17.0" prefWidth="183.0" text="Total Bounces:">
                                  <font>
                                      <Font size="18.0" />
                                  </font>
                              </Label>
                              <Label fx:id="bounceRateLabel" prefHeight="17.0" prefWidth="183.0" text="Bounce rate:">
                                  <font>
                                      <Font size="18.0" />
                                  </font>
                              </Label>
                        </children>
                     </VBox>
                      <Label fx:id="graphLabel" layoutX="233.0" layoutY="43.0" text="Graph:">
                          <font>
                              <Font size="18.0" />
                          </font>
                      </Label>
                      <ImageView fx:id="tutPNG" fitHeight="820.0" fitWidth="1409.0" layoutX="3.0" layoutY="1.0" pickOnBounds="true" preserveRatio="true" visible="false">
                          <image>
                  
                              <Image url="@../../../tutorial1.png" />
                          </image>
                      </ImageView>
                      <ImageView fx:id="uploadPNG" fitHeight="824.0" fitWidth="1410.0" layoutX="-1.0" pickOnBounds="true" preserveRatio="true" visible="false">
                          <image>
                              <Image url="@../../../tutorial2.png" />
                          </image>
                      </ImageView>
                      <Button fx:id="tutorialOFF" layoutX="1192.0" layoutY="721.0" mnemonicParsing="false" onAction="#disableTutPNG" prefHeight="52.0" prefWidth="178.0" text="TURN OFF TUTORIAL" visible="false">
                          <font>
                              <Font name="System Bold" size="15.0" />
                          </font>
                      </Button>
                      <Button fx:id="loadGraphButton" layoutX="4.0" layoutY="761.0" mnemonicParsing="false" onAction="#loadGraphs" prefHeight="41.0" prefWidth="177.0" text="Load Graphs">
                          <font>
                              <Font name="System Bold" size="14.0" />
                          </font>
                      </Button>
                      <Label fx:id="clicksLoadedLabel" layoutX="450.0" layoutY="48.0" text="clicks_log.csv: not loaded" />
                      <Label fx:id="impressionLoadedLabel" layoutX="646.0" layoutY="48.0" text="impression_log.csv: not loaded" />
                      <Label fx:id="serverLoadedLabel" layoutX="874.0" layoutY="48.0" text="server_log.csv: not loaded" />
                      <Button layoutX="4.0" layoutY="716.0" mnemonicParsing="false" onAction="#loadSQL" prefHeight="41.0" prefWidth="177.0" text="Load SQL" visible="true">
                          <font>
                              <Font name="System Bold" size="14.0" />
                          </font>
                      </Button>
                     <ChoiceBox fx:id="selectGraph" layoutX="286.0" layoutY="44.0" prefWidth="150.0" />
                     <ScrollPane layoutX="3.0" layoutY="478.0" prefHeight="200.0" prefWidth="222.0">
                       <content>
                         <AnchorPane minHeight="0.0" minWidth="0.0" prefHeight="200.0" prefWidth="203.0">
                              <children>
                                 <VBox prefHeight="200.0" prefWidth="202.0">
                                    <children>
                                       <Label text="Filters" />
                                          <VBox prefHeight="129.0" prefWidth="178.0">
                                              <DatePicker fx:id="fromDate" layoutX="14.0" layoutY="100" onAction="#createTimeFrame" prefHeight="25" prefWidth="200" promptText="Start Date" />
                                              <HBox fx:id="fromTimeHBox">
                                                  <ComboBox fx:id="fromHour" />
                                                  <Label text=":" />
                                                  <ComboBox fx:id="fromMinute" />
                                                  <Label text=":" />
                                                  <ComboBox fx:id="fromSecond" />
                                              </HBox>
                                              <HBox>
                                                  <ComboBox fx:id="genderFilter" prefWidth="150.0" />
                                                  <Label text=" " />
                                                  <ComboBox fx:id="contextFilter" prefWidth="150.0" />
                                                  <Label text=" " />
                                                  <ComboBox fx:id="ageFilter" prefWidth="150.0" />
                                                  <Label text=" " />
                                                  <ComboBox fx:id="incomeFilter" prefWidth="150.0" />
                                              </HBox>
                              
                                              <!-- DatePicker for selecting the end date -->
                                              <DatePicker fx:id="toDate" layoutX="100" layoutY="100" onAction="#createTimeFrame" prefHeight="25" prefWidth="200" promptText="End Date" />
                                              <HBox fx:id="toTimeHBox">
                                                  <ComboBox fx:id="toHour" />
                                                  <Label text=":" />
                                                  <ComboBox fx:id="toMinute" />
                                                  <Label text=":" />
                                                  <ComboBox fx:id="toSecond" />
                                              </HBox>
                                              <Button onAction="#loadCSVWithinDates" text="show" />
                                          </VBox>
                                    </children>
                                 </VBox>
                              </children>
                           </AnchorPane>
                       </content>
                     </ScrollPane>
                  </AnchorPane>
                  <VBox VBox.vgrow="ALWAYS" />
               </children>
            </VBox>
            <HBox HBox.hgrow="ALWAYS" />
         </children>
      </HBox>
      <HBox HBox.hgrow="ALWAYS" />
   </children>
</HBox>
